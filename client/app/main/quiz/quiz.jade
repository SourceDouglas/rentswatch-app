.quiz(ng-class="{ 'quiz--freezed': quiz.freezed }", ng-click="quiz.next(true)")
  .quiz__step.animated(ng-if="quiz.is(0)")
    h2.quiz__step__heading
      div.small {{ 'quiz.step.heading.0a' | translate:{ total: main.totalAds } }}
      div {{ 'quiz.step.heading.0b' | translate }}
    .text-center
      button.btn.btn-lg.btn-outline(ng-click="quiz.next()")
        | {{ 'quiz.step.start' | translate }}
            
  .quiz__step.animated(ng-if="quiz.is(1)")
    h2.quiz__step__heading {{ 'quiz.step.heading.1' | translate }}
    .text-center
      button.btn.btn-lg.btn-outline(ng-click="quiz.next()") 
        | {{ 'quiz.step.yes' | translate }}
            
  .quiz__step.animated(ng-if="quiz.is(2)")
    h2.quiz__step__heading {{ 'quiz.step.heading.2' | translate }}
            
  .quiz__step.animated(ng-if="quiz.is(3)")
    h2.quiz__step__heading {{ 'quiz.step.heading.3' | translate }}
    
  .quiz__step.animated(ng-if="quiz.is(4)")
    h2.quiz__step__heading {{ 'quiz.step.heading.4' | translate }}
      
  .quiz__step.quiz__step--bg(ng-class=" { 'quiz__step--disabled' : quiz.hasForm() } ")
    .quiz__step__scatterplot
      // Empty element to occupy the space
      .quiz__step__scatterplot__dummy
      // Axis group for the living space
      .quiz__step__scatterplot__axis.quiz__step__scatterplot__axis--x 
        // Axis Line on x
        span.quiz__step__scatterplot__axis__line.animated.hopen(ng-if="quiz.in(4)")
        span.quiz__step__scatterplot__axis__ticks.animated(ng-if="quiz.in(4)")
          span.quiz__step__scatterplot__axis__ticks__tick(ng-repeat="t in quiz.xticks()") 
            span.quiz__step__scatterplot__axis__ticks__tick__wrap {{ t }} 
      
  .quiz__step.animated(ng-if="quiz.is(5)")
    h2.quiz__step__heading {{ 'quiz.step.heading.5' | translate }}
          
  .quiz__step.quiz__step--bg(ng-class=" { 'quiz__step--disabled' : quiz.hasForm() } ")
    .quiz__step__scatterplot
      // Axis group for the total rent
      .quiz__step__scatterplot__axis.quiz__step__scatterplot__axis--y
        // Axis Line on y
        span.quiz__step__scatterplot__axis__line.animated.vopen(ng-if="quiz.in(5)")
        span.quiz__step__scatterplot__axis__ticks.animated(ng-if="quiz.in(5)")
          span.quiz__step__scatterplot__axis__ticks__tick(ng-repeat="t in quiz.yticks()")
            span.quiz__step__scatterplot__axis__ticks__tick__wrap {{ t }}
            
  .quiz__step.animated(ng-if="quiz.is(6)")
    h2.quiz__step__heading {{ 'quiz.step.heading.6a' | translate }}
            
  .quiz__step.animated(ng-if="quiz.is(7)")
    .quiz__step__scatterplot
      h2.quiz__step__heading.quiz__step__heading--blc
        | {{ 'quiz.step.heading.6b' | translate }}
            
  .quiz__step.animated(ng-if="quiz.is(8)")
    .quiz__step__scatterplot
      h2.quiz__step__heading.quiz__step__heading--trc
        | {{ 'quiz.step.heading.6c' | translate }}
            
  .quiz__step.animated(ng-if="quiz.is(9)")  
    .quiz__step__scatterplot
      h2.quiz__step__heading.quiz__step__heading--brc
        | {{ 'quiz.step.heading.6d' | translate }}
        
  .quiz__step.animated(ng-if="quiz.is(10)")
    h2.quiz__step__heading {{ 'quiz.step.heading.7' | translate }}
        
  .quiz__step.quiz__step--bg.animated(ng-if="quiz.in(10)", ng-class=" { 'quiz__step--disabled' : quiz.hasForm(), 'quiz__step--muted': quiz.in(18)} ")
    // The plot itself!
    .quiz__step__scatterplot
      img.quiz__step__scatterplot__chart(ng-src="/api/docs/all.png")
        
  .quiz__step.animated(ng-if="quiz.is(11)")
    h2.quiz__step__heading {{ 'quiz.step.heading.8' | translate }}
        
  .quiz__step.quiz__step--bg.animated(ng-if="quiz.in(11)", ng-class=" { 'quiz__step--disabled' : quiz.hasForm(), 'quiz__step--muted': quiz.in(18)} ")
    // The regression line
    .quiz__step__scatterplot
      img.quiz__step__scatterplot__chart(ng-src="{{ :: quiz.losRegression() }}")    
          
  .quiz__step.animated(ng-if="quiz.in(12, 13)")
    form.quiz__step__form(name="form", ng-submit="quiz.step = 14")
      label.control-label(for="inputrent")
        span {{ 'quiz.step.how-much.label' | translate }}
      .row
        .col-sm-9
          .form-group.form-group-lg
              .input-group
                input.form-control.input-lg(type='number', min="100", max="3000", id="inputrent", ng-model='quiz.rent', required='required', placeholder="{{ 'quiz.step.how-much.placeholder' | translate }}")
                span.input-group-addon.dropdown.quiz__step__form__dropdown
                  .dropdown-toggle
                    | {{ 'quiz.step.how-much.currency' | translate:{ currency: quiz.currency } }}
                    span.hidden &nbsp;<i class="caret"></i>
                  ul.dropdown-menu.dropdown-menu-right.quiz__step__form__dropdown__menu
                    li(ng-repeat="(currency, value) in quiz.currencies", 
                       ng-class="{ 'active': quiz.currency === currency }",
                       ng-click="quiz.currency = currency")
                      a {{ 'quiz.step.how-much.currency' | translate:{ currency: currency } }}
        .col-sm-3
          button.btn.btn-lg.btn-primary.btn-block(type="submit", ng-disabled="form.$invalid") {{ 'quiz.step.continue' | translate }}  
              
      strong.animated(ng-if="quiz.is(13)")  {{ 'quiz.step.how-much.shy' | translate }}
  
  .quiz__step.animated(ng-if="quiz.in(14, 15)", ng-class="{ 'quiz__step--disabled' : quiz.hasForm() }")
    // User rent level (without knowing the living space)
    .quiz__step__scatterplot
      .quiz__step__scatterplot__user-rent-part(ng-style="{ bottom: quiz.userRentPart() }")
    
  .quiz__step.animated(ng-if="quiz.is(14)")
    h2.quiz__step__heading(ng-show=":: quiz.userRentFeedback().is(0)")
      | {{ "quiz.step.rent-feedback.0" | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userRentFeedback().is(1)")
      | {{ "quiz.step.rent-feedback.1" | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userRentFeedback().is(2)")
      | {{ "quiz.step.rent-feedback.2" | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userRentFeedback().is(3)")
      | {{ "quiz.step.rent-feedback.3" | translate }}
    
  .quiz__step.animated(ng-if="quiz.is(15)")    
    form.quiz__step__form(name="form", ng-submit="quiz.next()")
      label.control-label(for="inputaddr")
        | {{ 'quiz.step.how-big.label' | translate }}
      .row
        .col-sm-9
          .form-group.form-group-lg
              .input-group
                input.form-control.input-lg(type='number', min="1", max="200", id="inputaddr", ng-model='quiz.space', required='required', placeholder="{{ 'quiz.step.how-big.placeholder' | translate }}")
                span.input-group-addon m²
        .col-sm-3
          button.btn.btn-lg.btn-primary.btn-block(type="submit", ng-disabled="form.$invalid") {{ 'quiz.step.continue' | translate }}
          
  .quiz__step.animated(ng-if="quiz.is(16)")
    h2.quiz__step__heading(ng-show=":: quiz.userGlobalFeedback().is(0)")
      | {{ 'quiz.step.space-feedback.0' | translate: { times: quiz.userGlobalFeedback().times } }}
    h2.quiz__step__heading(ng-show=":: quiz.userGlobalFeedback().is(1)")
      | {{ 'quiz.step.space-feedback.1' | translate: { percentage: quiz.userGlobalFeedback().percentage } }}
    h2.quiz__step__heading(ng-show=":: quiz.userGlobalFeedback().is(2)")
      | {{ 'quiz.step.space-feedback.2' | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userGlobalFeedback().is(3)")
      | {{ 'quiz.step.space-feedback.3' | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userGlobalFeedback().is(4)")
      | {{ 'quiz.step.space-feedback.4' | translate }}
    
  .quiz__step.quiz__step--bg.animated(ng-if="quiz.in(16)", ng-class=" { 'quiz__step--disabled' : quiz.hasForm() } ")  
    .quiz__step__scatterplot
      .quiz__step__scatterplot__user-point(ng-style="quiz.userPoint()")
     
  .quiz__step.animated(ng-if="quiz.is(17)")    
    form.quiz__step__form(name="form", ng-submit="quiz.geocode(quiz.addr)")
      p {{ 'quiz.step.addr.heading' | translate }}
      label.control-label(for="inputaddr")
        | {{ 'quiz.step.addr.label' | translate }}
      .row
        .col-sm-9
          input.form-control.input-lg(type='text', id="inputaddr", ng-model='quiz.addr', required='required', ng-disabled="quiz.freezed" placeholder="")                
        .col-sm-3
          button.btn.btn-lg.btn-primary.btn-block(type="submit", ng-disabled="form.$invalid || quiz.freezed")
            | {{ 'quiz.step.continue' | translate }}
            
  .quiz__step.quiz__step--bg.animated(ng-if="quiz.in(18)", ng-class=" { 'quiz__step--disabled' : quiz.hasForm() } ") 
    .quiz__step__scatterplot
      img.quiz__step__scatterplot__chart(ng-src="/api/docs/center.png?latlng={{ quiz.center.join(',') }}")
      span.quiz__step__scatterplot__legend
        | {{ 'quiz.step.addr.legend' | translate: { total: quiz.centerStats.total } }}
    
  .quiz__step.animated(ng-if="quiz.is(18)")  
    h2.quiz__step__heading(ng-show=":: quiz.userCenterFeedback().is(0)")
      | {{ 'quiz.step.addr-feedback.0' | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userCenterFeedback().is(1)")
      | {{ 'quiz.step.addr-feedback.1' | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userCenterFeedback().is(2)")
      | {{ 'quiz.step.addr-feedback.2' | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userCenterFeedback().is(3)")
      | {{ 'quiz.step.addr-feedback.3' | translate }}
      
  .quiz__step.animated(ng-if="quiz.in(19, 20)")
    h2.quiz__step__heading {{ 'quiz.step.heading.9' | translate }}
    .text-center
      button.btn.btn-lg.btn-default(ng-click="quiz.step = 22")
        | {{ 'quiz.step.save.no' | translate }}    
      =" "
      button.btn.btn-lg.btn-primary(ng-click="quiz.step = 21")
        | {{ 'quiz.step.save.yes' | translate }}
        
      div.animated.quiz__step__happy(ng-if="quiz.is(20)") {{ 'quiz.step.save.happy' | translate }}
      
  .quiz__step.animated(ng-if="quiz.is(21)")
    form.quiz__step__form(name="form", ng-submit="quiz.next()")
    
  .quiz__step.animated(ng-if="quiz.is(22)")
    h2.quiz__step__heading(ng-show=":: quiz.userFinalFeedback().is(0)")
      | {{ 'quiz.step.share-feedback.0' | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userFinalFeedback().is(1)")
      | {{ 'quiz.step.share-feedback.1' | translate }}
    h2.quiz__step__heading(ng-show=":: quiz.userFinalFeedback().is(2)")
      | {{ 'quiz.step.share-feedback.2' | translate }}
    ul.list-inline.text-center
      li 
        a
          span.fa-stack.fa-lg
            i.fa.fa-square.fa-stack-2x
            i.fa.fa-fw.fa-twitter.fa-stack-1x.fa-inverse
          span.sr-only Twitter
      li 
        a
          span.fa-stack.fa-lg
            i.fa.fa-square.fa-stack-2x
            i.fa.fa-fw.fa-facebook.fa-stack-1x.fa-inverse
          span.sr-only Facebook
    

.quiz-nav
  .quiz-nav__item.quiz-nav__item--space.hidden-sm.hidden-xs(ng-show="quiz.hasNext()")
    | {{ 'quiz.nav.manual' | translate }}
     
  .quiz-nav__item
    span(ng-show="quiz.rent") Your rent is {{quiz.rent}} {{ quiz.currency }}/month
    span(ng-show="quiz.space") &nbsp;for {{quiz.space}}m² flat
     
  .quiz-nav__item.quiz-nav__item--right
    button.btn.btn-primary(ng-disabled="!quiz.hasPrevious()", ng-click="quiz.previous()")
      i.fa.fa-chevron-left
      span.sr-only {{ 'quiz.nav.prev' | translate }}
    span &nbsp;
    button.btn.btn-primary(ng-disabled="!quiz.hasNext()", ng-click="quiz.next()")
      i.fa.fa-chevron-right
      span.sr-only {{ 'quiz.nav.next' | translate }}
      
