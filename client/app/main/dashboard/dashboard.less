.dashboard {

  height:100%;
  background: transparent;

  &__pick {
    max-width:@screen-sm;
    margin:auto;
    text-align: center;

    animation: blur-in 0.8s;
    animation-fill-mode: forwards;
    opacity: 0;

    position:absolute;
    bottom:50%;
    left:50%;
    .translate(-50%, 0);

    @media (max-width: @screen-sm) {
      position:static;
      padding:0 20px;
      margin-top:@navbar-height + 60px;
      .translate(0, 0);
    }

    .ui-select-container input.form-control,
    .ui-select-container .ui-select-toggle{
      .form-control();
      .input-lg();
      border-width:2px;
    }

    .ui-select-choices {
      background: @input-bg;
      color: @input-color;
      text-align: left;
      font-size:1.1em;
      margin-top:2px;

      .ui-select-choices-row {
        a {
          color:inherit;
          padding:10px 20px;
          &:hover {
            color: @input-bg;
          }
        }

        &.active a {
          color: @input-bg;
          background:@input-border-focus;
        }
      }
    }

    &__examples {
      margin-top:10px;
    }
  }

  &__view {
    background: @body-bg;
    position:absolute;
    top:@navbar-height;
    left:0;
    right:0;
    bottom:0;
    overflow: hidden;

    &__map {
      position:absolute;
      left:0;
      right:400px;
      top:0;
      bottom:0;
      display: block;
      z-index:150;

      @media (max-width: @screen-md) {
        right:0;
        bottom:150px;
        text-align: right;
      }

      &.leaflet-container {
        background:transparent;
        .leaflet-clickable {
          cursor: help;
          body.leaflet-dragging & {
            cursor:move;
          }
        }
      }

      .leaflet-layer {
        filter:sepia(100%) hue-rotate(205deg) brightness(200%);
      }
    }

    &__current {
      position:absolute;
      left:20px;
      bottom:20px;
      font-size:2em;
      z-index:180;
      font-weight: bolder;
      text-shadow: 0 0 10px fade(black, 90);
      pointer-events: none;
      white-space: nowrap;
      .transition(opacity 1s);


      &.ng-hide {
        opacity:0;
      }

      p {
        margin: 0;
      }

      @media (max-width: @screen-md) {
        top:20px;
        right:20px;
        left:auto;
        bottom:auto;
      }
    }

    &__context {
      width:400px;
      z-index:200;
      position: absolute;
      right:0;
      top:0;
      bottom:0;
      background:@body-bg;
      .transition(0.6s);
      .box-shadow(0 0 20px fade(black, 40));

      @media (max-width: @screen-md) {
        right:0;
        width:100%;
        top:100%;
        margin-top:-150px;

        &--open {
          top:0;
          margin:0;
        }

        body &__heading {
          background-size:auto 150px;
          margin-bottom:-150px;
          height:150px;
          padding:15px 30px;
          white-space: nowrap;

          &__toggler {
            display: inline-block !important;
          }
        }

        body &__body {
          top:150px;
        }
      }

      &__heading {
        background:url("../assets/images/buildings.png") right bottom repeat-x @body-bg;
        background-size:auto 200px;
        padding:30px;
        margin:0;
        border-bottom: 1px solid lighten(#211F30, 20%);
        position:absolute;
        left:0;
        right:0;
        bottom:100%;
        margin-bottom:-200px;

        &__toggler {
          .btn();
          background:transparent;
          display: inline-block;
          padding:5px 10px;
          margin:5px 0;
          color:white;
          font-weight: bold;
          text-transform: uppercase;
          font-size:1em;
          border:2px solid white;
          display: none;
          &:active, &:focus, &:hover {
            color:inherit;
          }
        }
      }

      &__body {
        padding:20px 30px;
        position:absolute;
        left:0;
        right:0;
        top:200px;
        bottom:0;
        overflow: auto;

        &__months, &__ranking {
          margin-bottom:40px;
        }

        &__ranking {

          &--inequality-index &__item__bar {
            background:white;
          }

          &--inequality-index &__item__label,
          &--inequality-index &__item__label .label {
            color: lighten(#211F30, 40%);
          }

          &__item {
            position: relative;
            margin-bottom:10px;
            overflow: hidden;

            width:0%;
            animation: slide-out 400ms cubic-bezier(0.645, 0.045, 0.355, 1);
            animation-fill-mode: forwards;
            .animation-delay-loop(0, 100, 200ms);

            &.active {
              overflow: visible;
            }

            &.active &__bar {

              &:after {
                content:"";
                position:absolute;
                left:-5px;
                right:-5px;
                top:-5px;
                bottom:-5px;
                border:2px solid #FEB24C;
                z-index:0;
              }
            }

            &__bar {
              position: relative;
              display: block;
              height:20px;
              background:  lighten(#211F30, 40%);
            }

            &__label {
              position:absolute;
              left:5px;
              top:0;
              height:20px;
              line-height:20px;
              font-weight: bold;
              font-size:0.8em;

              .label:after {
                content:". ";
              }

              &__price {
                font-weight: normal;
                &:before {
                  content:" â‡¨ ";
                  margin:0;
                  color: inherit;
                }
              }
            }
          }
        }
      }
    }
  }

}
